{"version":3,"file":"static/js/884.dcab87b6.chunk.js","mappings":"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","sources":["pages/MovieDetails.jsx","pages/MovieDetails.styled.jsx","services/themoviedbAPI.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { Outlet, useLocation, useParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { getMovieDetail } from 'services/themoviedbAPI';\nimport Loader from '../components/Loader/Loader';\nimport pictureNotFound from '../pages/pictureNotFound.jpg';\nimport { Suspense } from 'react';\nimport { isEmpty } from 'lodash';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {\n  Container,\n  DetailsInfo,\n  Text,\n  StyledLink,\n  InfoContainer,\n  ButtonBack,\n} from './MovieDetails.styled';\n\nconst FilmDetails = () => {\n  const [movieDetail, setMovieDetail] = useState({});\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? `/`);\n\n  useEffect(() => {\n    const showNotification = data => {\n      if (data && movieId !== String(data)) {\n        toast.error(`There is't result`);\n      }\n    };\n\n    try {\n      getMovieDetail(movieId)\n        .then(response => {\n          showNotification(response.id);\n          setMovieDetail(response);\n        })\n        .catch(function (error) {\n          console.log(error.toJSON());\n          toast.error(`There is't result`);\n        });\n    } catch (error) {\n      console.log(error.toJSON());\n      toast.error(`There is't result`);\n    }\n  }, [movieId]);\n\n  const {\n    id,\n    poster_path,\n    title,\n    release_date = '',\n    vote_average,\n    overview,\n    genres,\n  } = movieDetail;\n\n  return (\n    <>\n      {!isEmpty(movieDetail) && movieId === String(id) && (\n        <>\n          <div>\n            <Container>\n              <img\n                src={\n                  poster_path\n                    ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                    : pictureNotFound\n                }\n                alt={title}\n                width=\"400px\"\n              />\n              <DetailsInfo>\n                <h1>\n                  {title} {`(${release_date.slice(0, 4)})`}\n                </h1>\n                <p>\n                  User Score:{' '}\n                  {vote_average\n                    ? `${Math.round(vote_average * 10)}%`\n                    : `No information`}\n                </p>\n                <h2>Overview</h2>\n                <p>{overview}</p>\n\n                <h2>Genres</h2>\n\n                <p>\n                  {(genres || []).length === 0\n                    ? 'No information'\n                    : genres.map(genre => genre.name).join(', ')}\n                </p>\n              </DetailsInfo>\n            </Container>\n          </div>\n          <Text>Additional Information: </Text>\n          <InfoContainer>\n            <ul>\n              <li>\n                <StyledLink to=\"cast\">Cast</StyledLink>\n              </li>\n              <li>\n                <StyledLink to=\"reviews\">Reviews</StyledLink>\n              </li>\n            </ul>\n          </InfoContainer>\n        </>\n      )}\n\n      <Suspense\n        fallback={\n          <div>\n            <Loader />\n          </div>\n        }\n      >\n        <Outlet />\n      </Suspense>\n      <ToastContainer autoClose={3000} />\n      <Link to={backLinkLocationRef.current}>\n        <ButtonBack type=\"button\">Go back</ButtonBack>\n      </Link>\n    </>\n  );\n};\n\nexport default FilmDetails;\n","import styled from '@emotion/styled';\nimport { NavLink } from 'react-router-dom';\n\nexport const Container = styled.div`\n  position: relative;\n  left: 50%;\n  transform: translate(-50%);\n  display: flex;\n  justify-content: center;\n  min-height: 64px;\n  max-width: 900px;\n  margin-bottom: 15px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  left: 50%;\n`;\n\nexport const DetailsInfo = styled.div`\n  padding: 0 15px;\n`;\n\nexport const Image = styled.img`\n  display: block;\n`;\n\nexport const Text = styled.h2`\n  text-align: center;\n`;\n\nexport const InfoContainer = styled.header`\n  min-height: 64px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  > ul {\n    display: flex;\n    gap: 12px;\n  }\n`;\n\nexport const StyledLink = styled(NavLink)`\n  width: 100px;\n  padding: 10px 20px;\n  border-radius: 4px;\n  color: #212121;\n  font-weight: 500;\n\n  &:hover {\n    color: orangered;\n    border: 2px solid orangered;\n  }\n\n  &.active {\n    color: white;\n    background-color: orangered;\n  }\n`;\n\nexport const ButtonBack = styled.button`\n  position: relative;\n  left: 50%;\n  transform: translate(-50%);\n\n  padding: 10px 20px;\n  margin: 15px;\n  border-radius: 4px;\n  color: #212121;\n  font-weight: 700;\n  min-width: 200px;\n  background-color: #e0e0e0;\n  border: none;\n\n  &:hover {\n    color: white;\n    background-color: orangered;\n  }\n`;\n","import axios from 'axios';\n\nconst API_KEY = '148c9397aa3eec308089adaec56ced74';\n\nexport const getTrendingList = async () => {\n  const BASE_URL = 'https://api.themoviedb.org/3/';\n\n  const response = await axios.get(\n    `${BASE_URL}trending/movie/day?&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const getMovieDetail = async movieId => {\n  const BASE_URL = 'https://api.themoviedb.org/3/';\n\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}?&api_key=${API_KEY}&language=en-US`\n  );\n\n  return response.data;\n};\n\nexport const getMovieCast = async movieId => {\n  const BASE_URL = 'https://api.themoviedb.org/3/';\n\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}/credits?&api_key=${API_KEY}&language=en-USpage=1`\n  );\n\n  return response.data;\n};\n\nexport const getMovieReviews = async movieId => {\n  const BASE_URL = 'https://api.themoviedb.org/3/';\n\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}/reviews?&api_key=${API_KEY}&language=en-US&page=1`\n  );\n\n  return response.data;\n};\n\nexport const getMovieSearch = async query => {\n  const BASE_URL = 'https://api.themoviedb.org/3/';\n\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?&api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${query}`\n  );\n\n  return response.data;\n};\n"],"names":["useState","movieDetail","setMovieDetail","movieId","useParams","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","getMovieDetail","then","response","data","id","String","toast","catch","error","console","log","toJSON","poster_path","title","release_date","vote_average","overview","genres","isEmpty","src","pictureNotFound","alt","width","slice","Math","round","length","map","genre","name","join","to","Suspense","fallback","autoClose","current","type","Container","styled","DetailsInfo","Text","InfoContainer","StyledLink","NavLink","ButtonBack","API_KEY","getTrendingList","axios","getMovieCast","getMovieReviews","getMovieSearch","query"],"sourceRoot":""}